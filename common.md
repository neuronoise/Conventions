## Общие рекомендации по написанию кода
#### Использование стандартов
Более новые стандарты C++ дают инструменты и возможности, которые сильно упрощают и улучшают производительность как программиста, так и получаемого программного обеспечения. На данный момент стандарт **C++14** уже можно считать необходимой базой для написания качественного и современного кода. Если имеется возможность применять более поздние стандарты, рекомомендуется так и поступать - как минимум, время устаревания такого кода будет гораздо больше, а его возможности шире; при этом эффективность тоже возрастёт.

#### Принцип разработки
Чем более сложным и объёмным получается код, тем легче в нём запутаться и совершить ошибку. Поэтому в разработке рекомендуется следовать принципу **KISS** (**K**eep **I**t **S**hort and **S**imple). 
Функция должна выполнять одну задачу и иметь обозримый размер (обычно 1-2 экрана, не более) - если это не так, стоит задуматься над переработкой кода. Аналогично с классами: они не должны превращаться в "швейцарский нож". 

Не нужно складывать несколько классов в один файл - лучше, чтобы каждый самостоятельный класс находился в отдельном файле. Допустимо иметь небольшой вспомогательный класс в том же файле, если он используется только в локальном контексте (и нигде больше!). 

#### Использование include guard
Использование конструкции защиты от повторного включения обязательно для проектов, в которых больше одного заголовочного файла ```*.h``` (то есть, практически для всех). Единственным слабым местом конструкции является уникальность идентификатора макроса. 

Рекомендуется использовать следующее правило для формарования идентификатора: имя файла в верхнем регистре, знак подчерка ```_```, литера ```H```. В случае, если существует вероятность повторения имён файлов в проекте (чего лучше всё же избегать), идентификатор снабжается суффиксом: знак подчерка ```_``` и случайное значение какой-либо хэш-функции. Это делает вероятнось коллизий по идентификатору исчезающе маленькой.
```c++
#ifndef SOMECLASS_H_B8F55CA7
#define SOMECLASS_H_B8F55CA7
 
class SomeClass
{
    int m_member;
};

#endif // SOMECLASS_H_B8F55CA7
```
#### Ограничение области видимости
Крайне рекомендуется использование пространств имён (```namespace```) для разграничения областей видимости внутри проекта. Таким образом происходит организация кода в виде логических групп, а также уменьшается вероятнось конфликта имен, которые могут возникнуть, особенно в таких случаях, когда проект включает несколько библиотек. Также можно использовать анонимное пространство имён, чтобы ограничить область видимости текущей единицей трансляции.

Запрещается использовать директиву ```using namespace ...``` в глобальном контексте! Это делает использование пространст имён совершенно бессмыленным. При использовании директиву нужно ограничить минимально возможной областью - только там, где это необходимо.

Если по какой-то причине возникла необходимость в использовании глобальных переменных, их нужно заключить в пространство имён ```globals```. Это позволит избежать потенциальных ошибок по причине скрытия.

Для классов рекомендуется минимизировать явный (**public**) интерфейс. Пользователь класса не должен изменять извне внутренние переменные и состояния - это нарушает принцип инкапсуляции.

#### Спецификаторы
Использование спецификаторов помогает как избежать неявных ошибок, так и оптимизировать код. Рекомендуется не пропускать добавление спецификатор там, где это необходимо:
- ```const``` - для неизменяемых величин и методов, которые не меняют значений внутри класса
- ```constexpr``` - для функций и конструкторов, возвращающих неизменяемое значение тривиального типа
- ```explicit``` - для классов, если они не должны иметь возможность неявного преобразования к другим типам
- ```inline``` - для коротких функций и методов, уменьшает количество копий при компиляции

#### Магические числа
Константные числовые значения в коде с неочевидным смыслом ("магические числа") - крайне вредная практика. Читаемость кода мгновенно становится очень низкой, а сами такие числа - потенциальный источник ошибок. Все числовые значения должны быть либо вычислены с учётом контекста, либо обозначены как переменная с описательным названием и спецификатором ```const```. 
```
using IntPair = std::pair<int,int>;
void drawWindow(const IntPair p1, const IntPair p2)
{
    // тут рисуем
}
...

// что?
drawWindow({0,0},{640,480});

// рисуем окно по параметрам!
const IntPair screenTopLeft = {0,0}
const IntPair screenSize = {640,480}
drawWindow(screenTopLeft,screenSize);
```
#### Комментарии и документирование
Комментарии (Документирование кода)

#### Флаги компиляции
-Wall && -Werror

[< вернуться к списку разделов](README.md#Разделы)
